{"mappings":"YAEA,IAAMA,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,QAASF,SAASC,cAAc,aAChCE,OAAQH,SAASC,cAAc,eAC/BG,MAAOJ,SAASC,cAAc,WAoDhC,SAASI,IACPP,EAAKK,OAAOG,UAAUC,IAAI,UAC1BT,EAAKI,QAAQI,UAAUC,IAAI,UAe3BT,EAAKM,MAAME,UAAUC,IAAI,Q,CAV3B,SAASC,IACPV,EAAKK,OAAOG,UAAUG,OAAO,UAC7BX,EAAKI,QAAQI,UAAUG,OAAO,S,CAGhC,SAASC,IACPZ,EAAKM,MAAME,UAAUG,OAAO,Q,CA/D9BE,QAAQC,IAAId,EAAKK,SCJfE,IACOQ,MAFW,uCAEMC,MAAK,SAAAC,GAC3B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,KDEjBL,MAAK,SAAAM,IAYR,SAAsBA,GACpB,IAAMC,EAAcD,EACjBE,KAAI,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAEF,EAAFE,GACZ,MAAO,kBAAyBC,OAAPD,EAAG,MAASC,OAALF,EAAK,Y,IAEtCG,KAAK,IACR7B,EAAKC,YAAY6B,mBAAmB,YAAaP,E,CAjB/CQ,CAAaT,E,IAEdU,OAAM,SAAA1B,GACLM,IACAC,QAAQC,IAAI,Q,IAEbmB,SAAQ,WACPvB,IA4DFV,EAAKC,YAAYO,UAAUG,OAAO,S,IA9CpCX,EAAKC,YAAYiC,iBAAiB,UAElC,SAA4BC,GACC,KAAvBA,EAAMC,OAAOC,QCvBMC,EDwBLH,EAAMC,OAAOC,MCvBzBE,EAAoB,wDAAgEX,OAARU,GAOlF/B,IACOQ,MAAMwB,EAPG,CACdC,QAAS,CACP,YACE,2EAImCxB,MAAK,SAAAC,GAC5C,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,M,KDWbL,MAAK,SAAAM,IAaZ,SAA6BA,GAC3B,IAAMmB,EAAgB,aAAsHb,OAAzGN,EAAK,GAAGoB,IAAI,+FAClBd,OAD+GN,EAAK,GAAGqB,OAAO,GAAGjB,KAAK,wCACpDE,OAAlFN,EAAK,GAAGqB,OAAO,GAAGC,YAAY,sDAAkFhB,OAA9BN,EAAK,GAAGqB,OAAO,GAAGE,YAAY,cAE7I7C,EAAKI,QAAQ0C,UAAYL,C,CAhBnBM,CAAoBzB,E,IAErBU,OAAM,SAAA1B,GACLM,IACAC,QAAQC,IAAI,Q,IAEbmB,SAAQ,WACPvB,G,ICjCR,IAAyB4B,EACjBC,C","sources":["src/index.js","src/JS/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './JS/cat-api';\n\nconst refs = {\n  selectBreed: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader-inv'),\n  error: document.querySelector('.error'),\n};\nconsole.log(refs.loader);\n\nfetchBreeds()\n  .then(data => {\n    createMarkup(data);\n  })\n  .catch(error => {\n    showError();\n    console.log('error');\n  })\n  .finally(() => {\n    hideLoader();\n    showSelect();\n  });\n\nfunction createMarkup(data) {\n  const breedsArray = data\n    .map(({ name, id }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  refs.selectBreed.insertAdjacentHTML('beforeend', breedsArray);\n  // refs.selectBreed.innerHTML = breedsArray.join('');\n}\n\nrefs.selectBreed.addEventListener('change', handleChangeSelect);\n\nfunction handleChangeSelect(event) {\n  if (event.target.value !== '') {\n    fetchCatByBreed(event.target.value)\n      .then(data => {\n        createCatinfoMarkup(data);\n      })\n      .catch(error => {\n        showError();\n        console.log('error');\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n}\n\nfunction createCatinfoMarkup(data) {\n  const catInfoMarkup = `<img src=\"${data[0].url}\" alt=\"cat photo\" height=\"540\" width=\"540\"/><div class=\"descr-wrap\"><h1 class=\"cat-header\">${data[0].breeds[0].name}</h1>\n  <p class=\"cat-description\">${data[0].breeds[0].description}</p><p class=\"cat-temperament\"><b>Temperament:</b>${data[0].breeds[0].temperament}</p></div>`;\n\n  refs.catInfo.innerHTML = catInfoMarkup;\n}\n\nfunction showLoader() {\n  refs.loader.classList.add('loader');\n  refs.catInfo.classList.add('hidden');\n\n  hideError();\n}\n\nfunction hideLoader() {\n  refs.loader.classList.remove('loader');\n  refs.catInfo.classList.remove('hidden');\n}\n\nfunction showError() {\n  refs.error.classList.remove('error');\n}\n\nfunction hideError() {\n  refs.error.classList.add('error');\n}\n\nfunction showSelect() {\n  refs.selectBreed.classList.remove('hidden');\n}\n\nexport { showLoader };\n","import { showLoader } from '../index';\n\nfunction fetchBreeds() {\n  const urlBreeds = 'https://api.thecatapi.com/v1/breeds';\n  showLoader();\n  return fetch(urlBreeds).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  const urlSearchByBreeds = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n  const options = {\n    headers: {\n      'x-api-key':\n        'live_EEbvOb60XL9UgLJJ7bv9kNbMuHwRbvWrsXT5YGAW7rBTMnO7j1Xmegr3LLfBWJjJ',\n    },\n  };\n  showLoader();\n  return fetch(urlSearchByBreeds, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n"],"names":["$b8f9b7833fa37166$var$refs","selectBreed","document","querySelector","catInfo","loader","error","$b8f9b7833fa37166$export$56525cbb1fcd885c","classList","add","$b8f9b7833fa37166$var$hideLoader","remove","$b8f9b7833fa37166$var$showError","console","log","fetch","then","response","ok","Error","status","json","data","breedsArray","map","param","name","id","concat","join","insertAdjacentHTML","$b8f9b7833fa37166$var$createMarkup","catch","finally","addEventListener","event","target","value","breedId","urlSearchByBreeds","headers","catInfoMarkup","url","breeds","description","temperament","innerHTML","$b8f9b7833fa37166$var$createCatinfoMarkup"],"version":3,"file":"index.4384e2ef.js.map"}