{"mappings":"AAaA,SAASA,EAAgBC,GACvB,MAAMC,EAAoB,wDAAwDD,IAQlF,OADAE,IACOC,MAAMF,EAPG,CACdG,QAAS,CACP,YACE,2EAImCC,MAAKC,IAC5C,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MAAM,G,CCzB1B,MAAMC,EAAO,CACXC,YAAaC,SAASC,cAAc,iBACpCC,QAASF,SAASC,cAAc,aAChCE,OAAQH,SAASC,cAAc,eAC/BG,MAAOJ,SAASC,cAAc,WAyDhC,SAASZ,IACPS,EAAKK,OAAOE,UAAUC,IAAI,UAa1BR,EAAKM,MAAMC,UAAUC,IAAI,Q,CAT3B,SAASC,IACPT,EAAKK,OAAOE,UAAUG,OAAO,S,CAG/B,SAASC,IACPX,EAAKM,MAAMC,UAAUG,OAAO,Q,CAjE9BE,QAAQC,IAAIb,EAAKK,QDJRb,MADW,uCACME,MAAKC,IAE3B,GADAJ,KACKI,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,ICEvBL,MAAKoB,KAWR,SAAsBA,GACpB,MAAMC,EAAcD,EACjBE,KAAI,EAACC,KAAEA,EAAIC,GAAEA,KACL,kBAAkBA,MAAOD,eAEjCE,KAAK,IACRnB,EAAKC,YAAYmB,mBAAmB,YAAaL,E,CAhB/CM,CAAaP,EAAK,IAEnBQ,OAAMhB,IACLK,IACAC,QAAQC,IAAI,QAAQ,IAErBU,SAAQ,KACPd,GAAY,IAahBT,EAAKC,YAAYuB,iBAAiB,UAElC,SAA4BC,GACC,KAAvBA,EAAMC,OAAOC,OACfvC,EAAgBqC,EAAMC,OAAOC,OAC1BjC,MAAKoB,KAaZ,SAA6BA,GAC3BF,QAAQC,IAAIC,GACZF,QAAQC,IAAIC,EAAK,GAAGc,KACpBhB,QAAQC,IAAIC,EAAK,GAAGe,OAAO,GAAGZ,MAC9BL,QAAQC,IAAIC,EAAK,GAAGe,OAAO,GAAGC,aAC9BlB,QAAQC,IAAIC,EAAK,GAAGe,OAAO,GAAGE,aAE9B,MAAMC,EAAgB,aAAalB,EAAK,GAAGc,iGAAiGd,EAAK,GAAGe,OAAO,GAAGZ,2CACjIH,EAAK,GAAGe,OAAO,GAAGC,gEAAgEhB,EAAK,GAAGe,OAAO,GAAGE,wBAEjI/B,EAAKI,QAAQ6B,UAAYD,C,CAtBnBE,CAAoBpB,EAAK,IAE1BQ,OAAMhB,IACLK,IACAC,QAAQC,IAAI,QAAQ,IAErBU,SAAQ,KACPd,GAAY,G","sources":["src/JS/cat-api.js","src/index.js"],"sourcesContent":["import { showLoader } from '../index';\n\nfunction fetchBreeds() {\n  const urlBreeds = 'https://api.thecatapi.com/v1/breeds';\n  return fetch(urlBreeds).then(response => {\n    showLoader();\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  const urlSearchByBreeds = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n  const options = {\n    headers: {\n      'x-api-key':\n        'live_EEbvOb60XL9UgLJJ7bv9kNbMuHwRbvWrsXT5YGAW7rBTMnO7j1Xmegr3LLfBWJjJ',\n    },\n  };\n  showLoader();\n  return fetch(urlSearchByBreeds, options).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './JS/cat-api';\n\nconst refs = {\n  selectBreed: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader-inv'),\n  error: document.querySelector('.error'),\n};\nconsole.log(refs.loader);\n\nfetchBreeds()\n  .then(data => {\n    createMarkup(data);\n  })\n  .catch(error => {\n    showError();\n    console.log('error');\n  })\n  .finally(() => {\n    hideLoader();\n  });\n\nfunction createMarkup(data) {\n  const breedsArray = data\n    .map(({ name, id }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  refs.selectBreed.insertAdjacentHTML('beforeend', breedsArray);\n  // refs.selectBreed.innerHTML = breedsArray.join('');\n}\n\nrefs.selectBreed.addEventListener('change', handleChangeSelect);\n\nfunction handleChangeSelect(event) {\n  if (event.target.value !== '') {\n    fetchCatByBreed(event.target.value)\n      .then(data => {\n        createCatinfoMarkup(data);\n      })\n      .catch(error => {\n        showError();\n        console.log('error');\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n}\n\nfunction createCatinfoMarkup(data) {\n  console.log(data);\n  console.log(data[0].url);\n  console.log(data[0].breeds[0].name);\n  console.log(data[0].breeds[0].description);\n  console.log(data[0].breeds[0].temperament);\n\n  const catInfoMarkup = `<img src=\"${data[0].url}\" alt=\"cat photo\" height=\"480\" width=\"480\"/><div class=\"descr-wrap\"><h1 class=\"cat-header\">${data[0].breeds[0].name}</h1>\n  <p class=\"cat-description\">${data[0].breeds[0].description}</p><p class=\"cat-temperament\"><b>Temperament:</b>${data[0].breeds[0].temperament}</p></div>`;\n\n  refs.catInfo.innerHTML = catInfoMarkup;\n}\n\nfunction showLoader() {\n  refs.loader.classList.add('loader');\n  hideError();\n}\n\nfunction hideLoader() {\n  refs.loader.classList.remove('loader');\n}\n\nfunction showError() {\n  refs.error.classList.remove('error');\n}\n\nfunction hideError() {\n  refs.error.classList.add('error');\n}\n\nexport { showLoader };\n"],"names":["$f8bee7072538d60b$export$57b7d3a597416aa2","breedId","urlSearchByBreeds","$1f0dc3b9307be026$export$56525cbb1fcd885c","fetch","headers","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$refs","selectBreed","document","querySelector","catInfo","loader","error","classList","add","$1f0dc3b9307be026$var$hideLoader","remove","$1f0dc3b9307be026$var$showError","console","log","data","breedsArray","map","name","id","join","insertAdjacentHTML","$1f0dc3b9307be026$var$createMarkup","catch","finally","addEventListener","event","target","value","url","breeds","description","temperament","catInfoMarkup","innerHTML","$1f0dc3b9307be026$var$createCatinfoMarkup"],"version":3,"file":"index.23d7528f.js.map"}